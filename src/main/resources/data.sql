-- APENAS PRA TESTAR NO H2

CREATE TABLE T_CHALLENGE_USUARIO
(
    id_usuario     INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    email_usuario  VARCHAR(100) UNIQUE NOT NULL,
    senha_usuario  VARCHAR(100)        not null,
    status_usuario VARCHAR(100)        NOT NULL
);

CREATE TABLE T_CHALLENGE_ENDERECO
(
    id_endereco          INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    rua_endereco         VARCHAR(100) NOT NULL,
    numero_endereco      INTEGER      NOT NULL,
    complemento_endereco VARCHAR(100),
    bairro_endereco      VARCHAR(100) NOT NULL,
    cidade_endereco      VARCHAR(100) NOT NULL,
    estado_endereco      VARCHAR(100) NOT NULL,
    cep                  VARCHAR(100) NOT NULL
);

CREATE TABLE T_CHALLENGE_TELEFONE
(
    id_telefone     INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    numero_telefone VARCHAR(15) NOT NULL,
    tipo_telefone   VARCHAR(50)
);

CREATE TABLE T_CHALLENGE_CLINICA
(
    id_clinica   INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    cnpj_clinica VARCHAR(25) UNIQUE NOT NULL,
    nome_clinica VARCHAR(100)       NOT NULL,
    id_usuario   INTEGER,
    id_endereco  INTEGER,
    id_telefone  INTEGER,
    FOREIGN KEY (id_usuario) REFERENCES T_CHALLENGE_USUARIO (id_usuario),
    FOREIGN KEY (id_endereco) REFERENCES T_CHALLENGE_ENDERECO (id_endereco),
    FOREIGN KEY (id_telefone) REFERENCES T_CHALLENGE_TELEFONE (id_telefone)

);

CREATE TABLE T_CHALLENGE_PACIENTE
(
    id_paciente     INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    cpf_paciente    VARCHAR(25)  NOT NULL UNIQUE,
    nome_paciente   VARCHAR(100) NOT NULL,
    data_nascimento DATE         NOT NULL,
    genero_paciente VARCHAR(50)  NOT NULL,
    cnpj_clinica    VARCHAR(25),
    id_endereco     INTEGER,
    id_telefone     INTEGER,
    FOREIGN KEY (id_endereco) REFERENCES T_CHALLENGE_ENDERECO (id_endereco),
    FOREIGN KEY (cnpj_clinica) REFERENCES T_CHALLENGE_CLINICA (cnpj_clinica),
    FOREIGN KEY (id_telefone) REFERENCES T_CHALLENGE_TELEFONE (id_telefone)

);

CREATE TABLE T_CHALLENGE_DENTISTA
(
    id_dentista      INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    cpf_dentista     VARCHAR(25) UNIQUE  NOT NULL,
    nome_dentista    VARCHAR(100)        NOT NULL,
    cro_dentista     VARCHAR(50) UNIQUE  NOT NULL,
    especialidade    VARCHAR(100),
    email_dentista   VARCHAR(100) UNIQUE NOT NULL,
    data_contratacao DATE                NOT NULL,
    cnpj_clinica     VARCHAR(25),
    id_endereco      INTEGER,
    id_telefone      INTEGER,
    FOREIGN KEY (id_telefone) REFERENCES T_CHALLENGE_TELEFONE (id_telefone),
    FOREIGN KEY (id_endereco) REFERENCES T_CHALLENGE_ENDERECO (id_endereco),
    FOREIGN KEY (cnpj_clinica) REFERENCES T_CHALLENGE_CLINICA (cnpj_clinica)
);

CREATE TABLE T_CHALLENGE_ATENDIMENTO
(
    id_atendimento        INTEGER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    tipo_procedimento     VARCHAR(150) NOT NULL,
    descricao_atendimento VARCHAR(360),
    data_atendimento      DATE         NOT NULL,
    custo_estimado        FLOAT        NOT NULL,
    cpf_paciente          VARCHAR(25),
    cpf_dentista          VARCHAR(25),
    FOREIGN KEY (cpf_paciente) REFERENCES T_CHALLENGE_PACIENTE (cpf_paciente),
    FOREIGN KEY (cpf_dentista) REFERENCES T_CHALLENGE_DENTISTA (cpf_dentista)
);

INSERT INTO T_CHALLENGE_USUARIO (email_usuario, senha_usuario, status_usuario)
VALUES ('usuario1@email.com', 'senha123', 'ATIVO');

INSERT INTO T_CHALLENGE_USUARIO (email_usuario, senha_usuario, status_usuario)
VALUES ('usuario2@email.com', 'senha456', 'ATIVO');

INSERT INTO T_CHALLENGE_USUARIO (email_usuario, senha_usuario, status_usuario)
VALUES ('usuario3@email.com', 'senha789', 'ATIVO');

INSERT INTO T_CHALLENGE_ENDERECO (rua_endereco, numero_endereco, complemento_endereco, bairro_endereco, cidade_endereco,
                                  estado_endereco, cep)
VALUES ('Rua A', 100, 'Apto 201', 'Centro', 'São Paulo', 'SP', 12345678);

INSERT INTO T_CHALLENGE_ENDERECO (rua_endereco, numero_endereco, complemento_endereco, bairro_endereco, cidade_endereco,
                                  estado_endereco, cep)
VALUES ('Rua B', 200, 'Casa 10', 'Vila Nova', 'Rio de Janeiro', 'RJ', 23456789);

INSERT INTO T_CHALLENGE_ENDERECO (rua_endereco, numero_endereco, complemento_endereco, bairro_endereco, cidade_endereco,
                                  estado_endereco, cep)
VALUES ('Rua C', 300, NULL, 'Jardim', 'Belo Horizonte', 'MG', 34567890);

INSERT INTO T_CHALLENGE_TELEFONE (numero_telefone, tipo_telefone)
VALUES ('(11) 98765-4321', 'CELULAR');

INSERT INTO T_CHALLENGE_TELEFONE (numero_telefone, tipo_telefone)
VALUES ('(21) 91234-5678', 'RESIDENCIAL');

INSERT INTO T_CHALLENGE_TELEFONE (numero_telefone, tipo_telefone)
VALUES ('(31) 92345-6789', 'COMERCIAL');

INSERT INTO T_CHALLENGE_CLINICA (cnpj_clinica, nome_clinica, id_usuario, id_endereco, id_telefone)
VALUES ('12345678000190', 'Clínica São Paulo', 1, 1, 1);

INSERT INTO T_CHALLENGE_CLINICA (cnpj_clinica, nome_clinica, id_usuario, id_endereco, id_telefone)
VALUES ('23456789000101', 'Clínica Rio de Janeiro', 2, 2, 2);

INSERT INTO T_CHALLENGE_CLINICA (cnpj_clinica, nome_clinica, id_usuario, id_endereco, id_telefone)
VALUES ('34567890000112', 'Clínica Belo Horizonte', 3, 3, 3);

INSERT INTO T_CHALLENGE_PACIENTE (cpf_paciente, nome_paciente, data_nascimento, genero_paciente, cnpj_clinica,
                                  id_endereco, id_telefone)
VALUES ('123.456.789-00', 'João Silva', DATE '1990-05-10', 'MASCULINO', '12345678000190', 1, 1);

INSERT INTO T_CHALLENGE_PACIENTE (cpf_paciente, nome_paciente, data_nascimento, genero_paciente, cnpj_clinica,
                                  id_endereco, id_telefone)
VALUES ('234.567.890-01', 'Maria Oliveira', DATE '1985-08-25', 'MASCULINO', '23456789000101', 2, 2);

INSERT INTO T_CHALLENGE_PACIENTE (cpf_paciente, nome_paciente, data_nascimento, genero_paciente, cnpj_clinica,
                                  id_endereco, id_telefone)
VALUES ('345.678.901-23', 'Carlos Santos', DATE '2000-01-15', 'MASCULINO', '34567890000112', 3, 3);

INSERT INTO T_CHALLENGE_DENTISTA (cpf_dentista, nome_dentista, cro_dentista, especialidade, email_dentista,
                                  data_contratacao, cnpj_clinica, id_endereco, id_telefone)
VALUES ('123.456.789-00', 'Dr. Pedro Alves', '12345-SP', 'Ortodontia', 'pedro.alves@email.com', DATE '2015-03-12',
        '12345678000190', 1, 1);

INSERT INTO T_CHALLENGE_DENTISTA (cpf_dentista, nome_dentista, cro_dentista, especialidade, email_dentista,
                                  data_contratacao, cnpj_clinica, id_endereco, id_telefone)
VALUES ('234.567.890-01', 'Dra. Ana Costa', '67890-RJ', 'Clínico Geral', 'ana.costa@email.com', DATE '2018-07-05',
        '23456789000101', 2, 2);

INSERT INTO T_CHALLENGE_DENTISTA (cpf_dentista, nome_dentista, cro_dentista, especialidade, email_dentista,
                                  data_contratacao, cnpj_clinica, id_endereco, id_telefone)
VALUES ('345.678.901-23', 'Dr. Marcos Lima', '13579-MG', 'Periodontia', 'marcos.lima@email.com', DATE '2020-01-20',
        '34567890000112', 3, 3);

INSERT INTO T_CHALLENGE_ATENDIMENTO (tipo_procedimento, descricao_atendimento, data_atendimento, custo_estimado,
                                     cpf_paciente, cpf_dentista)
VALUES ('Implante', 'Implante dentário na arcada superior', DATE '2024-01-15', 1500.00, '123.456.789-00',
        '345.678.901-23');

INSERT INTO T_CHALLENGE_ATENDIMENTO (tipo_procedimento, descricao_atendimento, data_atendimento, custo_estimado,
                                     cpf_paciente, cpf_dentista)
VALUES ('Limpeza', 'Limpeza e profilaxia dentária', DATE '2024-02-10', 200.00, '234.567.890-01', '234.567.890-01');

INSERT INTO T_CHALLENGE_ATENDIMENTO (tipo_procedimento, descricao_atendimento, data_atendimento, custo_estimado,
                                     cpf_paciente, cpf_dentista)
VALUES ('Extração', 'Extração de dente molar', DATE '2024-03-05', 800.00, '345.678.901-23', '234.567.890-01');